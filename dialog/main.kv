#:import WINDOW global_variables.WINDOW
#:import COMMONBUTTON global_variables.COMMONBUTTON


<PlayerSpeechButton>:
    color: (1, .5, 0, 1)
    background_normal:''
    background_color: (.30, .12, .03, 1)
    padding: [WINDOW.width / 40, WINDOW.width / 40]
    size_hint_y: None
    text_size: self.width, None
    height: self.texture_size[1] + WINDOW.width / 60


<Dialog>:
    size_hint: .8, .8
    background_normal: ''
    BoxLayout:
        orientation: 'vertical'
        canvas:
            Color:
                rgba: (.28, .17, .05, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            id: content_box
            orientation: 'vertical'
            size_hint_y: .9
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    size_hint_y: .3
                    canvas.before:
                        Color:
                            rgba: (.36, .17, .05, 1)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                ScrollView:
                    size_hint_y: .7
                    Label:
                        id: npc_speech
                        size_hint_y: None
                        text_size: self.width, None
                        height: self.texture_size[1]
                        color: (.98, .49, 0, 1)
                        multiline: True
                        padding: (WINDOW.width/40, WINDOW.width/40)
                        halign: 'left'
                        valign: 'middle'
            ScrollView:
                canvas.before:
                    Color:
                        rgba: (.36, .17, .05, 1)
                    Rectangle:
                        size: self.size
                        pos: self.pos
                GridLayout:
                    id: player_speech_box
                    size_hint_y: None
                    height: self.minimum_height
                    cols: 1
                    orientation: 'vertical'
                    spacing: WINDOW.width / 40
                    padding: [WINDOW.width / 40, WINDOW.width / 40]
        BoxLayout:
            size_hint_y: .1
            Button:
                text: 'Clear (test)'
                color: (1, .5, 0, 1)
                background_normal: ''
                background_color: (.30, .12, .03, 1)
                on_press: root.clear_db()
            Button:
                text: 'Close'
                color: (1, .5, 0, 1)
                background_normal: ''
                background_color: (.30, .12, .03, 1)
                on_press: root.dismiss()